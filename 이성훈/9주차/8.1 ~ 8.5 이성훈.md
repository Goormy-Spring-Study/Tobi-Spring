# 8.1 ~ 8.5

## 스프링의 정의

자바 엔터프라이즈 개발을 편하게 해주는 오픈소스 경량급 애플리케이션 프레임워크

### 자바 엔터프라이즈 개발을 편하게

엔터프라이즈 개발의 **근본적인 문제점**에 도전해서 해결책을 제시한다.

**기술적인 처리를 담당하는 코드가 성격이 다른 코드에 섞여 등장하는 경우 이 문제는 더욱 심화된다.**

→ 스프링은 애플리케이션 개발자들이 스프링이라는 프레임워크가 제공하는 기술이 아니라 자신이 작성하는 애플리케이션의 로직에 더 많은 관심과 시간을 쏟게 해준다.

### 오픈소스

실제로 스프링은 대형 IT 기업의 사업부인 스프링소스가 개발을 책임지고 전담하고 있다. (VMware에 합병)

### 경량급

가장 단순한 서버환경인 톰캣이나 제티에서도 완벽하게 동작한다. 난해한 설정파일 구조와 까다로운 패키징, 불편한 서버 배치 등으로 인한 부담 없이 **단순한 개발툴과 기본적인 개발환경으로도 엔터프라이즈 개발에서 필요로 하는 주요한 기능을 갖춘 애플리케이션을 개발하기에 충분하다.**

### 애플리케이션 프레임워크

특정 계층이나, 기술, 업무 분야에 국한되지 않고 애플리케이션의 전 영역을 포괄하는 범용적인 프레임워크

## 스프링의 목적

엔터프라이즈 개발의 복잡함

- 기술적인 제약조건과 요구사항이 늘어나기 때문
- 시간이 흐를수록 비즈니스 로직의 복잡함이 증가하기 때문

**→ 기술적인 처리를 담당하는 코드가 성격이 다른 코드에 섞여 등장하는 경우 이 문제는 더욱 심화된다.**

### 기술적인 복잡함

**EJB**는 일부 자바 코드를 강제함으로써(상속) 더 이상 상속구조를 적용하지 못하게 만들거나, 다형성 적용을 근본적으로 제한하였고, 객체지향적인 특성을 잃어버린 프레임워크로 인식되었다.

**기술적인 복잡함을 해결하는 문제가 기술적인 복잡함이 비즈니스 로직에 침범하지 못하도록 분리하는 경우에도 DI가 바탕이 된 여러 기법이 활용된다.**

**스프링**이 성공할 수 있었던 비결은 바로 **비침투적인 기술**이라는 전략을 택했기 때문이다.

- **데이터 엑세스 예외에 대한 추상화**는 비즈니스 로직을 담은 서비스 레이어의 코드가 특정 기술이 발생시키는 예외에 종속되지 않고, 불필요하게 예외를 잡아야 하는 것을 방지해준다.
- **템플릿/콜백 패턴**은 판에 박힌 반복적인 작업 흐름과 API 사용 코드를 제거해준다.
- **AOP**는 최후까지 애플리케이션 로직을 담당하는 코드에 남아 있는 기술 관련 코드를 깔끔하게 분리해서 별도의 모듈로 관리하게 해준다.

### 비즈니스로직의 복잡함

**비즈니스 로직의 복잡함을 상대하는 전략은 자바라는 객체지향 기술 그 자체다.**

비즈니스 로직 자체의 복잡함을 해결하려면 DI보다는 객체지향 설계 기법이 더 중요

## POJO 프로그래밍 (Plain Old Java Object)

스프링은 핵심 기술인 IoC/DI, AOP, PSA로 이를 가능하게 한다.

### POJO의 조건

- 특정 규약(자바언어에 꼭 필요한 API 외)에 종속되지 않는다.
- 특정 환경에 종속되지 않는다. (EJB 3는 JNDI라는 서버 서비스를 필요로 한다.)

### POJO 프로그래밍의 장점은?

- 특정 기술과 환경에 종속되지 않는 오브젝트는 그만큼 깔끔한 코드가 될 수 있다.
- POJO로 개발된 코드는 자동화된 테스트에 매우 유리하다. (EJB는 간단한 코드 수정에도 빌드, 배치, 수동 확인이라는 번거로운 작업을 해야했다.)
- 객체지향적인 설계를 자유롭게 적용할 수 있다.

> 좋은 코드와 좋은 프레임워크의 특징은 그것을 사용해서 만들어지는 코드가 나쁜 코드가 되기 어렵다는 점이다.
> 

### IoC/DI

두 개의 오브젝트를 분리해서 만들고, 인터페이스를 두고 느슨하게 연결한 뒤, 실제 사용할 대상을 DI를 통해 외부에서 지정하는 이유는 무엇일까?

→ 유연한 확장이 가능하게 하기 위해서

- 핵심기능의 변경
- 핵심기능의 동적인 변경
- 부가기능의 추가
- 인터페이스의 변경
- 프록시
- 탬플릿과 콜백
- 싱글톤과 오브젝트 스코프
- 테스트 (목 오브젝트 주입)

### AOP

관점 지향 프로그래밍 (엔터프라이즈 서비스를 **비침투적**으로 제공하는 데 반드시 필요하다.)

스프링에서 제공하는 AOP (부가기능을 부여할 수 있는 곳은 메소드의 호출이 일어나는 지점 뿐임)

AspectJ라는 오픈소스 툴을 통한 AOP (인스턴스 생성, 필드 액세스, 특정 호출 경로를 가진 메소드 호출 등에도 부여할 수 있음)

### AOP의 적용 단계

1단계 : 스프링에서 미리 제공하는 AOP를 사용 (Transactional 등)

2단계 : 전담팀을 통한 정책 AOP 적용

3단계 : AOP의 자유로운 이용

### PSA

Portable Service Abstraction 포터블 서비스 추상화