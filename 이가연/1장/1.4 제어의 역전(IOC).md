# 팩토리의 등장

팩토리란 객체의 생성 방법을 결정하고 그렇게 만들어진 오브젝트를 돌려주는 클래스다. 오브젝트의 생성과 사용 책임을 분리하기 위한 목적으로 사용한다. 

# 제어권의 이전을 통한 제어관계 역전

## 제어의 역전이란?

프로그램 제어 흐름 구조가 뒤바뀌는 것을 말한다. 

### 기존의 방식

일반적인 프로그램의 흐름 순서가 main → 오브젝트 생성 → 사용 이라는 순서를 따른다. 이렇게 제어의 역전이 없는 상태에선 모든 오브젝트가 능동적으로 자신이 사용할 클래스를 결정하고 언제 어떻게 오브젝트를 만들지 결정한다. **즉, 사용하는 쪽에서 모든 작업을 제어한다.** 

## 제어의 역전의 특성

제어의 역전에서는 모든 오브젝트가 자신이 사용할 오브젝트를 생성도, 선택하지도 않는다. 스스로가 어디서 어떻게 만들어지고 사용되지는지 알 수 없다. **모든 제어권한을 다른 대상에게 위임하기 때문이다.** 

앞서 말한 Factory와 같은 대상에게 제어권한을 모두 넘긴다. 

### 서블릿의 제어의 역전

서블릿 클래스는 개발자가 작성하지만 서블릿에 대한 권한을 가진 컨테이너가 적절한 시점에 서블릿 클래스의 오브젝트를 만들고 그 안의 메소드를 호출함으로서 제어가 역전된다. 서블릿 클래스의 생성 및 실행 제어권이 컨테이너에 의해 관리된다는 것이다. 

### 템플릿 메소드 패턴의 제어의 역전

템플릿 메소드 패턴도 제어의 역전의 일종인데, 제어권을 상위 템플릿 메소드에게 넘기고 자신은 필요할 때 호출되어 사용된다는 점에서 제어의 역전 개념이 적용되었다. 

### 프레임워크의 제어의 역전

라이브러리에 제어의 역전 개념을 적용한 것이 프레임워크다. 라이브러리를 사용하는 애플리케이션 코드는 애플리케이션 흐름을 직접 제어하지만 프레임워크는 반대로 애플리케이션 코드가 프레임워크에 의해 사용된다. 프레임워크 위에 개발 코드를 등록하고 프레임워크가 흐름을 주도하며 코드를 사용하는 방식이다. 

# 요약

이러한 제어의 역전 개념은 스프링만의 개념이 아니며, 객체 생성 및 의존성 관리의 제어권을 개발자가 아닌 프레임워크나 컨테이너에게 넘겨줌으로써 더 유연하고 확장성 높은 구조를 만들 수 있게 하고, 개발자는 필요한 로직에만 집중할 수 있게 한다. 스프링은 애플리케이션 구성 요소의 의존성 관리를 DI를 통해 처리하기 때문에 IOC 개념을 극한으로 끌어올린 프레임워크라고 할 수 있다.
