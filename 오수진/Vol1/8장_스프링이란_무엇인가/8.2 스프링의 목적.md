8.2 스프링의 목적
=
- 경량급 프레임워크인 스프링을 활용해서 엔터프라이즈 애플리케이션 개발을 편하게 하는 것

## 8.2.1 엔터프라이즈 개발의 복잡함
- JavaEE가 실패하는 이유 : 엔터프라이즈 시스템 개발이 너무 복잡해져서

### 복잡함의 근본적인 이유 (2)
#### 기술적인 제약조건과 요구사항의 증가
- 엔터프라이즈 시스템 : 서버에서 동작하며 기업과 조직의 업무를 처리해주는 시스템
- 많은 사용자의 요청을 동시에 처리해야 하기 때문에 자원을 효율적으로 공유하고 분배해서 사용할 수 있어야
- 기업의 핵심 주요 정보를 처리하는 경우, 보안과 안정성, 확장성도 요구됨
- 즉, 비즈니스 로직뿐만 아니라 뛰어난 성능과 서비스 안정성을 요구
- 다양한 플랫폼의 클라이언트와 접속을 위한 리모팅 기술, 분산 트랜잭션 등도 요구됨
- 이러한 기술적 요구사항은 고가의 WAS만으로 해결 불가 -> 개발 시에도 이를 고려하면서 개발해야

#### 비즈니스 로직의 복잡함 증가
- 엔터프라이즈 시스템에 대한 업무 의존도의 증가
- 기능 요구사항과 업무 정책의 변경이 잦아짐 -> 애플리케이션의 변경 증가
- 즉, 개발, 유지보수, 추가 개발에서 복잡성이 증가

### 복잡함을 가중시키는 원인
- 비즈니스 로직과 기술의 복잡함이 얽혀 있음

## 8.2.2 복잡함을 해결하려는 도전
- 복잡함의 원인은 제거 대상은 아님 (예) 복잡함 제거를 위해 보안을 포기할 수는 없음)
- 비즈니스 로직의 복잡함을 다루는 방식과 기술적 복잡함을 다루는 방식이 다르니 이 두 복잡함을 분리해야 함

### 실패한 해결책 : EJB
- EJB의 목표도 이 두 복잡함을 분리하는 것
- 핵심 코드에서 몇몇 기술적 코드를 분리하는데 성공했지만, EJB 환경에 종속되는 코드로 구현해야 함 -> 부담감 증가
- 이 때문에 자바 언어의 장점인 객체지향(상속, 다형성 등)을 잃게 됨

### 비침투적인 방식을 통한 효과적인 해결책 : 스프링
- 침투적 : EJB처럼 어떤 기술을 적용했을 때 기술과 관련된 코드나 규약 등이 개발자의 코드에 등장하는 것
- 비침투적 : 기술의 적용 사실이 코드에 직접 반영되지 않음, 코드의 설계와 구현 방식을 제한하지 않음

## 8.2.3 복잡함을 상대하는 스프링의 전략
- 스프링의 기본 전략 : 비즈니스 로직, 엔터프라이즈 기술 코드를 분리시키는 것

### 1. 기술적 복잡함을 상대하는 전략 (2)
#### 첫 번째 문제 : 기술에 대한 접근 방식이 일관성이 없고, 특정 환경에 종속적
- 환경, 서버, 조건, 기술에 따라 코드가 바뀌는 것은 매우 번거롭고 복잡함
- 스프링은 `서비스 추상화`를 통해 이를 해결
- 로우레벨의 기술 구현 부분과 이를 사용하는 인터페이스를 분리하여 환경과 세부 기술에 독립적인 접근 인터페이스를 제공

#### 두 번째 문제 : 기술적인 처리를 담당하는 코드가 성격이 다른 코드에 섞여서 등작
- 트랜잭션, 보안 로직, 계층 간 데이터와 예외의 일괄변환, 로깅이나 감사 등의 기능
- 스프링은 `AOP`를 통해 이를 해결
- 애플리케이션 로직에서 분리하기 힘든 기술 관련 코드를 분리해서 별도의 모듈로 관리할 수 있도록 함
- 분리 & 중복 코드 제거 -> 유지보수 용이

### 2. 비즈니스와 애플리케이션 로직의 복잡함을 상대하는 전략 (자바의 객체지향성)
- 애플리케이션의 핵심 부분이며 자주 변경되는 부분이기 때문에 대체로 복잡하며 기술적인 부분보다 오류가 더 치명적
- 예전에는 DB에서 SQL로 비즈니스 핵심로직을 표현하고, 저장 프로시저를 통해 핵심 로직 처리하는 경우가 많았음
  - 불편함, 위험함, 확장이 힘들고 확장 비용이 많이 듦, 데이터 액세스 중심 로직은 개발, 유지보수, 테스트가 어렵다
- 때문에 애플리케이션 안에서 비즈니스 로직을 구현하는 추세
- DB는 영구적 저작, 복잡한 검색 등에만 활용
- 오브젝트에 담긴 로직은 테스트가 쉬우며, 목 오브젝트 활용시 DB없이도 가능
- 자바 객체지향성을 활용 -> 유지보수, 확장에 용이
- 스프링은 방해 요소를 제거해주는 역할만

### 핵심도구 : 객체지향과 DI
- 자바 엔터프라이즈의 장점 객체지향을 EJB가 사용하지 못하게 함
- 스프링 "기본으로 돌아가자"
  - 단순한 오브젝트로 개발
- DI는 객체 지향 프로그래밍 기법
  - 객체 지향 설계기법을 잘 적용할 수 있는 구조로 만들어줌 
  - 서비스 추상화, 템플릿/콜백, AOP 등의 기술을 가능하게 함
- 비즈니스 로직 자체의 복잡함을 해결하려면 객체 지향 설계 기법이 중요 
  - 상속, 다형성, 위임 -> 복잡하고 자주 변하는 업무 대응 가능